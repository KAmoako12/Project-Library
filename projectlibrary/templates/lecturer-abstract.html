{% extends "lecturer-layout.html" %}

{% block css_files1 %}
<link rel="stylesheet" href="{{url_for('static', filename='css/pdfViewer.css')}}">

<style>
    .chapters {
        min-width: 12rem;
    padding: 0 !important;
    height: 38rem;
    overflow-y: auto;
    display: flex;
    align-items: center;
    }
    .chapters button{
    width: 100%;
    padding: 0 !important;
    }
    .chapters ul{
        gap: 1.5rem !important;
    }

    .btn {
        margin-top: 0;
        width: auto;
        display: flex;
    }
    
    .students{
        height: 10rem;
    overflow-y: auto;
    }
    .textarea {
        margin: 0px; 
        height: 30rem; 
        width: 100%;
        overflow: scroll;
    }
    
    .commentarea {
        margin: 2px; 
        width: 892px; 
        height: 88px;
    }
    main{
    display: grid !important;
    grid-template-columns: 1fr 3fr 1fr;
        }
    .publish{
        display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    }
    .comment-container{
        height: 22rem;
    overflow-y: auto;
    margin: 5px 0rem;
    }
  
  .comment-button{
    background: green;
    color: white;
    margin-top: 1.5rem;
  }
</style>
{% endblock css_files1 %}

{% block content %}
<!----------------------------- Main Site Section ------------------------------>

<main>
    <div class="chapters">
        <ul>
            <button class="btn">
            <li><a href="{{url_for('lecturers.abstract', group_id=report.group_id)}}">ABSTRACT</a></li>
            </button>
            {% if report and report.introduction != None %}
            <button class="btn">
                <li><a href="{{url_for('lecturers.report_intro', group_id=report.group_id)}}">INTRODUCTION</a></li>
            </button>
            {% endif %}
            
            {% if report and report.literature_review != None %}
            <button class="btn">
                <li><a href="{{url_for('lecturers.report_literature', group_id=report.group_id)}}">LITERATURE REVIEW</a></li>
            </button>
            {% endif %}
            
            {% if report and report.methodology != None %}
            <button class="btn">
                <li><a href="{{url_for('lecturers.report_methodology', group_id=report.group_id)}}">METHODOLOGY</a></li>
            </button>
            {% endif %}
            
            {% if report and report.testing_and_evaluation != None %}
            <button class="btn">
                <li><a href="{{url_for('lecturers.report_testing', group_id=report.group_id)}}">TESTING AND EVALUATION</a></li>
            </button>
            {% endif %}
            
            {% if report and report.conclusion != None %}
            <button class="btn">
                <li><a href="{{url_for('lecturers.report_conclusion', group_id=report.group_id)}}">CONCLUSION AND RECOMMENDATIONS</a></li>
            </button>
            {% endif %}
            
            {% if report and report.full_report != None %}
            <button class="btn">
                <li><a href="{{url_for('lecturers.report_full', group_id=report.group_id)}}">FULL REPORT</a></li>
            </button>
            {% endif %}
        </ul>
    </div>
       <div class="pdf-container">
            <div class="pdf-container">
                {% if report.abstract == None %}
                    <textarea name="abstract" class="textarea" rows="4" cols="80" placeholder="No Abstract Entered" readonly>No Value Entered</textarea>
                {% else %}
                    <textarea name="abstract" class="textarea" readonly>{{report.abstract}}</textarea>
                {% endif %}
            </div>
            {% if report.full_report and report.published != True %}
            <div class="publish">
                <p>Report Is Not Published</p>
                <button id="publishBtn" style="background-color: forestgreen; color: #ffffff;" onclick="window.location.href='{{url_for('lecturers.publish_report', report_id=report.id)}}'">Publish Full Post</button>
            </div>
            {% elif report.full_report and report.published %}
            <div class="publish">
                <p>Report Is Published</p>
                <button id="unPublishBtn" style="background-color: orangered;" onclick="window.location.href='{{url_for('lecturers.unpublish_report', report_id=report.id)}}'">Remove Publishment</button>
            </div>
        {% endif %}
        </div>
    <div class="comment">
        <div class="students">
            {% for student in students %}
                {% if student.group_leader %}
                    <p>{{student.name}} - {{student.index_number}} [Group Leader]</p>
                {% else %}
                    <p>{{student.name}} - {{student.index_number}}</p>
                {% endif %}
            {% endfor %}
         </div>
        <div class="comment-container">
            {% if comments %}
            {% for comment in comments %}
            <ul class="comment-list">
                <li id="comment-62201" class="comment even thread-even depth-1">
                    <article id="div-comment-62201" class="comment-body">
                        <footer class="comment-meta">
                            <div class="comment-author vcard">
                                <b class="fn">{{lecturer.name}}</b> <span class="says">says:</span>
                            </div>
                            <div class="comment-metadata">
                                <a href="#"><time datetime="2021-04-15T06:01:29-04:00">{{comment.created_at.strftime("%Y-%B-%d, %H:%M")}}</time></a>
                            </div>
                        </footer>
                        <div class="comment-content">
                            <p>{{comment.comment}}</p>
                        </div>
                    </article>
                </li>
            </ul>
            {% endfor %}
            {% else %}
            <p>No Comments Yet</p>
            {% endif %}
        </div>
        
        <button class="comment-button" onclick="document.getElementById('commentModal').style.display='block'">Add Comment</button>
    </div>
</main>

<div class="w3-container">
    <div id="commentModal" class="w3-modal">
        <div class="w3-modal-content w3-animate-top w3-card-4">
            <header class="w3-container w3-teal">
                <span onclick="document.getElementById('commentModal').style.display='none'" class="w3-button w3-display-topright">&times;</span>
                <h2>Enter Your Comments Here</h2>
            </header>
            <form method="POST" action=''>
                <div>
                   <textarea class='commentarea' name="comment" placeholder="Enter Your Comment"></textarea>
                    <button>Submit Comment</button>
                </div>
            </form>
        </div>
    </div>
</div>
    
    

<!---------------x------------- Main Site Section ---------------x-------------->
{% endblock content %}
